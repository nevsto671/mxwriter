/*!
 * Lightbox for Bootstrap 5 v1.8.3 (https://trvswgnr.github.io/bs5-lightbox/)
 * Copyright 2023 Travis Aaron Wagner (https://github.com/trvswgnr/)
 * Licensed under MIT (https://github.com/trvswgnr/bs5-lightbox/blob/main/LICENSE)
*/ !function(){"use strict";var t={d:function(e,a){for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},e={};t.d(e,{default:function(){return i}});var a=window.bootstrap;let s={Modal:a.Modal,Carousel:a.Carousel};class o{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.hash=this.randomHash(),this.settings=Object.assign(Object.assign(Object.assign({},s.Modal.Default),s.Carousel.Default),{interval:!1,target:'[data-toggle="lightbox"]',gallery:"",size:"xl",constrain:!0}),this.settings=Object.assign(Object.assign({},this.settings),e),this.modalOptions=this.setOptionsFromSettings(s.Modal.Default),this.carouselOptions=this.setOptionsFromSettings(s.Carousel.Default),"string"==typeof t&&(this.settings.target=t,t=document.querySelector(this.settings.target)),this.el=t,this.type=t.dataset.type||"",this.src=this.getSrc(t),this.sources=this.getGalleryItems(),this.createCarousel(),this.createModal()}show(){document.body.appendChild(this.modalElement),this.modal.show()}hide(){this.modal.hide()}setOptionsFromSettings(t){return Object.keys(t).reduce((t,e)=>Object.assign(t,{[e]:this.settings[e]}),{})}getSrc(t){let e=t.dataset.src||t.dataset.remote||t.href||"http://via.placeholder.com/1600x900";if("html"===t.dataset.type)return e;/\:\/\//.test(e)||(e=window.location.origin+e);let a=new URL(e);return(t.dataset.footer||t.dataset.caption)&&a.searchParams.set("caption",t.dataset.footer||t.dataset.caption),a.toString()}getGalleryItems(){let t;if(this.settings.gallery){if(Array.isArray(this.settings.gallery))return this.settings.gallery;t=this.settings.gallery}else this.el.dataset.gallery&&(t=this.el.dataset.gallery);return t?[...new Set(Array.from(document.querySelectorAll('[data-gallery="'.concat(t,'"]')),t=>"".concat(t.dataset.type?t.dataset.type:"").concat(this.getSrc(t))))]:["".concat(this.type?this.type:"").concat(this.src)]}getYoutubeId(t){if(!t)return!1;let e=t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return!(!e||11!==e[2].length)&&e[2]}getYoutubeLink(t){let e=this.getYoutubeId(t);if(!e)return!1;let a=t.split("?"),s=a.length>1?"?"+a[1]:"";return"https://www.youtube.com/embed/".concat(e).concat(s)}getInstagramEmbed(t){if(/instagram/.test(t))return t+=/\/embed$/.test(t)?"":"/embed",'<iframe src="'.concat(t,'" class="start-50 translate-middle-x" style="max-width: 500px" frameborder="0" scrolling="no" allowtransparency="true"></iframe>')}isEmbed(t){let e=RegExp("("+o.allowedEmbedTypes.join("|")+")").test(t),a=/\.(png|jpe?g|gif|svg|webp)/i.test(t)||"image"===this.el.dataset.type;return e||!a}createCarousel(){let t=document.createElement("template"),e=o.allowedMediaTypes.join("|"),a=this.sources.map((t,a)=>{t=t.replace(/\/$/,"");let s=RegExp("^(".concat(e,")"),"i"),o=/^html/.test(t),i=/^image/.test(t);s.test(t)&&(t=t.replace(s,""));let n=this.settings.constrain?"mw-100 mh-100 h-auto w-auto m-auto top-0 end-0 bottom-0 start-0":"h-100 w-100",l=new URLSearchParams(t.split("?")[1]),r="",c=t;if(l.get("caption")){try{(c=new URL(t)).searchParams.delete("caption"),c=c.toString()}catch(d){c=t}r='<p class="notranslate lightbox-caption m-0 p-2 text-center text-white small"><em>'.concat(l.get("caption"),"</em></p>")}let h='<img src="'.concat(c,'" class="d-block ').concat(n,' img-fluid" style="z-index: 1; object-fit: contain;" />'),u="",m=this.getInstagramEmbed(t),p=this.getYoutubeLink(t);return this.isEmbed(t)&&!i&&(p&&(t=p,u='title="YouTube video player" frameborder="0" allow="accelerometer autoplay clipboard-write encrypted-media gyroscope picture-in-picture"'),h=m||'<iframe src="'.concat(t,'" ').concat(u," allowfullscreen></iframe>")),o&&(h=t),'\n	<div class="carousel-item '.concat(a?"":"active",'" style="min-height: 100px">\n').concat('<div class="position-absolute top-50 start-50 translate-middle text-white"><div class="spinner-border" style="width: 3rem height: 3rem" role="status"></div></div>','\n<div class="ratio ratio-16x9" style="background-color: #000;">').concat(h,"</div>\n	").concat(r,"\n	").concat('<button type="button" class="btn btn-dark copy-caption-btn text-center d-block mx-auto">Copy Prompt</button>',"\n</div>")}).join(""),i=this.sources.length<2?"":'\n<button id="#lightboxCarousel-'.concat(this.hash,'-prev" class="carousel-control carousel-control-prev h-75 m-auto" type="button" data-bs-target="#lightboxCarousel-').concat(this.hash,'" data-bs-slide="prev">\n<span class="carousel-control-prev-icon" aria-hidden="true"></span>\n<span class="visually-hidden">Previous</span>\n</button>\n	<button id="#lightboxCarousel-').concat(this.hash,'-next" class="carousel-control carousel-control-next h-75 m-auto" type="button" data-bs-target="#lightboxCarousel-').concat(this.hash,'" data-bs-slide="next">\n<span class="carousel-control-next-icon" aria-hidden="true"></span>\n<span class="visually-hidden">Next</span>\n	</button>'),n="lightbox-carousel carousel slide";"fullscreen"===this.settings.size&&(n+=" position-absolute w-100 translate-middle top-50 start-50");let l='\n<div id="lightboxCarousel-'.concat(this.hash,'" class="').concat(n,'" data-bs-ride="carousel" data-bs-interval="').concat(this.carouselOptions.interval,'">\n<div class="carousel-inner">\n').concat(a,"\n</div>\n").concat(i,"\n</div>");t.innerHTML=l.trim(),this.carouselElement=t.content.firstChild;let r=Object.assign(Object.assign({},this.carouselOptions),{keyboard:!1});this.carousel=new s.Carousel(this.carouselElement,r);let c=this.type&&"image"!==this.type?this.type+this.src:this.src;return this.carousel.to(this.findGalleryItemIndex(this.sources,c)),!0===this.carouselOptions.keyboard&&document.addEventListener("keydown",t=>{if("ArrowLeft"===t.code){let e=document.getElementById("#lightboxCarousel-".concat(this.hash,"-prev"));return e&&e.click(),!1}if("ArrowRight"===t.code){let a=document.getElementById("#lightboxCarousel-".concat(this.hash,"-next"));return a&&a.click(),!1}}),this.carousel}findGalleryItemIndex(t,e){let a=0;for(let s of t){if(s.includes(e))return a;a++}return 0}createModal(){let t=document.createElement("template"),e='\n<div class="modal lightbox fade" id="lightboxModal-'.concat(this.hash,'" tabindex="-1" aria-hidden="true">\n<div class="modal-dialog modal-dialog-centered modal-').concat(this.settings.size,'">\n	<div class="modal-content border-0 bg-transparent">\n<div class="modal-body p-0">\n<button type="button" class="btn-close bg-dark position-absolute top-0 end-0 p-3" data-bs-dismiss="modal" aria-label="Close" style="z-index: 2; background: none;">').concat('<svg xmlns="http://www.w3.org/2000/svg" style="position: relative; top: -5px;" viewBox="0 0 16 16" fill="#fff"><path d="M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z"/></svg>',"</button>\n</div>\n</div>\n</div>\n</div>");return t.innerHTML=e.trim(),this.modalElement=t.content.firstChild,this.modalElement.querySelector(".modal-body").appendChild(this.carouselElement),this.modalElement.addEventListener("hidden.bs.modal",()=>this.modalElement.remove()),this.modalElement.querySelector("[data-bs-dismiss]").addEventListener("click",()=>this.modal.hide()),this.modalElement.querySelector(".copy-caption-btn").addEventListener("click",()=>{let t=this.modalElement.querySelector(".lightbox-caption");new ClipboardJS(".copy-caption-btn",{target:()=>t,text:()=>t});let e=this.modalElement.querySelector(".copy-caption-btn"),a=e.textContent;e.textContent="Copied!",setTimeout(()=>{e.textContent=a},5e3)}),this.modal=new s.Modal(this.modalElement,this.modalOptions),this.modal}randomHash(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Array.from({length:t},()=>Math.floor(36*Math.random()).toString(36)).join("")}}o.allowedEmbedTypes=["embed","youtube","vimeo","instagram","url"],o.allowedMediaTypes=[...o.allowedEmbedTypes,"image","html"],o.defaultSelector='[data-toggle="lightbox"]',o.initialize=function(t){t.preventDefault(),new o(this).show()},document.querySelectorAll(o.defaultSelector).forEach(t=>t.addEventListener("click",o.initialize)),"undefined"!=typeof window&&window.bootstrap&&(window.bootstrap.Lightbox=o);var i=o;window.Lightbox=e.default}();